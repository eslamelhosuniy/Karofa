from string import Template

#### CHAT HISTORY PROMPTS ####

#### Query Rewrite ####

query_rewrite_system = Template("\n".join([
    "أنت مساعد لإعادة صياغة الاستفسارات.",
    "مهمتك هي إعادة صياغة استفسار المستخدم الحالي ليكون مستقلاً وواضحاً.",
    "قم بدمج السياق المناسب من سياق المحادثة في الاستفسار.",
    "يجب أن يكون الاستفسار المُعاد صياغته واضحاً ومستقلاً.",
    "لا تجب على الاستفسار، فقط أعد صياغته.",
    "أخرج فقط الاستفسار المُعاد صياغته، لا شيء آخر.",
]))

query_rewrite_prompt = Template("\n".join([
    "## سياق المحادثة (آخر الرسائل):",
    "$chat_history",
    "",
    "## كيانات الجلسة:",
    "$session_entities",
    "",
    "## استفسار المستخدم الحالي:",
    "$query",
    "",
    "## الاستفسار المُعاد صياغته:",
]))

#### Entity Extraction ####

entity_extraction_system = Template("\n".join([
    "أنت مساعد لاستخراج الكيانات.",
    "استخرج الكيانات المهمة من المحادثة (أسماء، مواضيع، مفاهيم، تواريخ، إلخ).",
    "أرجع فقط مصفوفة JSON من النصوص تحتوي على الكيانات.",
    "مثال على المخرجات: [\"كيان1\", \"كيان2\", \"كيان3\"]",
    "اجعل الكيانات موجزة وذات صلة.",
    "الحد الأقصى 10 كيانات.",
]))

entity_extraction_prompt = Template("\n".join([
    "## استفسار المستخدم:",
    "$query",
    "",
    "## إجابة المساعد:",
    "$answer",
    "",
    "## الكيانات الموجودة:",
    "$existing_entities",
    "",
    "## الكيانات المُحدثة (مصفوفة JSON):",
]))
